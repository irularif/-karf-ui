{"version":3,"names":["FontLoader","fonts","updateInitialize","useApp","prepare","_fonts","libFonts","concat","reduce","prev","v","name","replace","style","weight","source","Font","loadAsync","e","console","warn","useEffect"],"sources":["FontLoader.tsx"],"sourcesContent":["import * as Font from 'expo-font';\nimport { useEffect } from 'react';\n\nimport { fonts as libFonts } from '../../../assets/fonts';\nimport { useApp } from '../context';\n\nexport type TFont = {\n  name: string;\n  weight: '300' | '400' | '500' | '600' | '700' | '800';\n  source: NodeRequire;\n  style: 'normal' | 'italic';\n};\n\nexport type TFonts = Array<TFont>;\n\nexport interface FontLoaderProps {\n  fonts?: TFonts;\n}\n\nexport const FontLoader = ({ fonts = [] }: FontLoaderProps) => {\n  const { updateInitialize } = useApp();\n\n  const prepare = async () => {\n    try {\n      const _fonts = libFonts.concat(fonts).reduce(\n        (prev: any, v: TFont) => ({\n          ...prev,\n          [`${v.name.replace(/\\s/g, '-')}_${v.style}_${v.weight}`]: v.source,\n        }),\n        {}\n      );\n      await Font.loadAsync(_fonts);\n    } catch (e) {\n      console.warn(e);\n    } finally {\n      updateInitialize('fonts', true);\n    }\n  };\n\n  useEffect(() => {\n    prepare();\n  }, []);\n\n  return null;\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;;;AAeO,MAAMA,UAAU,GAAG,QAAqC;EAAA,IAApC;IAAEC,KAAK,GAAG;EAAV,CAAoC;EAC7D,MAAM;IAAEC;EAAF,IAAuB,IAAAC,eAAA,GAA7B;;EAEA,MAAMC,OAAO,GAAG,YAAY;IAC1B,IAAI;MACF,MAAMC,MAAM,GAAGC,aAAA,CAASC,MAAT,CAAgBN,KAAhB,EAAuBO,MAAvB,CACb,CAACC,IAAD,EAAYC,CAAZ,MAA0B,EACxB,GAAGD,IADqB;QAExB,CAAE,GAAEC,CAAC,CAACC,IAAF,CAAOC,OAAP,CAAe,KAAf,EAAsB,GAAtB,CAA2B,IAAGF,CAAC,CAACG,KAAM,IAAGH,CAAC,CAACI,MAAO,EAAtD,GAA0DJ,CAAC,CAACK;MAFpC,CAA1B,CADa,EAKb,EALa,CAAf;;MAOA,MAAMC,IAAI,CAACC,SAAL,CAAeZ,MAAf,CAAN;IACD,CATD,CASE,OAAOa,CAAP,EAAU;MACVC,OAAO,CAACC,IAAR,CAAaF,CAAb;IACD,CAXD,SAWU;MACRhB,gBAAgB,CAAC,OAAD,EAAU,IAAV,CAAhB;IACD;EACF,CAfD;;EAiBA,IAAAmB,gBAAA,EAAU,MAAM;IACdjB,OAAO;EACR,CAFD,EAEG,EAFH;EAIA,OAAO,IAAP;AACD,CAzBM"}