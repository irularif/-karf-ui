{"version":3,"names":["get","useCallback","useContext","Device","ScreenContext","useScreen","context","undefined","Error","size","select","params","selected","pkeys","Object","keys","pidx","indexOf","pk"],"sources":["screen.ts"],"sourcesContent":["import { get } from 'lodash';\nimport { useCallback, useContext } from 'react';\nimport { Device, IConfigSize, ScreenContext, TDevice } from '../ScreenProvider/context';\n\nconst useScreen = () => {\n  const context = useContext(ScreenContext);\n  if (context === undefined) {\n    throw new Error('useScreen must be used within a ScreenProvider');\n  }\n\n  const { size } = context;\n\n  const select = useCallback(\n    (params: IConfigSize) => {\n      let selected = undefined;\n      let pkeys = Object.keys(params) as TDevice[];\n      let pidx = pkeys.indexOf(size);\n      if (pidx > -1) {\n        return params[size];\n      } else {\n        for (let pk of Device) {\n          selected = get(params, pk, selected);\n          if (pk === size) {\n            break;\n          }\n        }\n      }\n      return selected;\n    },\n    [size]\n  );\n\n  return {\n    ...context,\n    select,\n  };\n};\n\nexport default useScreen;\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,QAApB;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,OAAxC;AACA,SAASC,MAAT,EAA8BC,aAA9B,QAA4D,2BAA5D;;AAEA,MAAMC,SAAS,GAAG,MAAM;EACtB,MAAMC,OAAO,GAAGJ,UAAU,CAACE,aAAD,CAA1B;;EACA,IAAIE,OAAO,KAAKC,SAAhB,EAA2B;IACzB,MAAM,IAAIC,KAAJ,CAAU,gDAAV,CAAN;EACD;;EAED,MAAM;IAAEC;EAAF,IAAWH,OAAjB;EAEA,MAAMI,MAAM,GAAGT,WAAW,CACvBU,MAAD,IAAyB;IACvB,IAAIC,QAAQ,GAAGL,SAAf;IACA,IAAIM,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYJ,MAAZ,CAAZ;IACA,IAAIK,IAAI,GAAGH,KAAK,CAACI,OAAN,CAAcR,IAAd,CAAX;;IACA,IAAIO,IAAI,GAAG,CAAC,CAAZ,EAAe;MACb,OAAOL,MAAM,CAACF,IAAD,CAAb;IACD,CAFD,MAEO;MACL,KAAK,IAAIS,EAAT,IAAef,MAAf,EAAuB;QACrBS,QAAQ,GAAGZ,GAAG,CAACW,MAAD,EAASO,EAAT,EAAaN,QAAb,CAAd;;QACA,IAAIM,EAAE,KAAKT,IAAX,EAAiB;UACf;QACD;MACF;IACF;;IACD,OAAOG,QAAP;EACD,CAhBuB,EAiBxB,CAACH,IAAD,CAjBwB,CAA1B;EAoBA,OAAO,EACL,GAAGH,OADE;IAELI;EAFK,CAAP;AAID,CAhCD;;AAkCA,eAAeL,SAAf"}